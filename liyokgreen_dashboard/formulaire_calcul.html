<!--
=========================================================
* Material Dashboard 3 - v3.2.0
=========================================================

* Product Page: https://www.creative-tim.com/product/material-dashboard
* Copyright 2024 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)
* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="assets/img/logo.png">
  <link rel="icon" type="image/png" href="assets/img/logo.png">
  <title>
    LiyokGreen
  </title>
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700,900" />
  <!-- Nucleo Icons -->
  <link href="assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <!-- Material Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
  <!-- CSS Files -->
  <link id="pagestyle" href="assets/css/material-dashboard.css?v=3.2.0" rel="stylesheet" />
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap 5 JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body class="">
  <main class="main-content  mt-0">
    <section>
      <div class="page-header min-vh-100">
        <div class="container">
          <div class="row">
            <div class="col-6 d-lg-flex d-none h-100 my-auto pe-0 position-absolute top-0 start-0 text-center justify-content-center flex-column">
              <div class="position-relative bg-gradient-primary h-100 m-3 px-7 border-radius-lg d-flex flex-column justify-content-center" style="background-image: url('assets/img/illustrations/illustration-signup.jpg'); background-size: cover;">
              </div>
            </div>
            <div class="col-xl-4 col-lg-5 col-md-7 d-flex flex-column ms-auto me-auto ms-lg-auto me-lg-5">
              <div class="card card-plain">
                <div class="card-header">
                  <h4 class="font-weight-bolder">Calcul du bilan carbone</h4>
                  <p class="mb-0">Entrez vos differentes consommations</p>
                </div>
                <div class="card-body">
                  <form role="form">
                    <!-- Consommation √©lectrique -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label">Consommation d'√©lectricit√© (kWh)</label>
                      <input type="number" class="form-control">
                    </div>
                  
                    <!-- Distance parcourue -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label">Distance parcourue (Km)</label>
                      <input type="number" class="form-control">
                    </div>
                  
                    <!-- Type d'engins -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label"></label>
                      <select class="form-control">
                        <option value="">S√©lectionner le Type d'engin</option>
                        <option>Voiture</option>
                        <option>Camion</option>
                        <option>Bus</option>
                        <option>Moto</option>
                        <option>Engin agricole</option>
                        <option>Machine industrielle</option>
                      </select>
                    </div>
                  
                    <!-- Type de carburant -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label"></label>
                      <select class="form-control">
                        <option value="">S√©lectionner le Type de carburant</option>
                        <option>Essence</option>
                        <option>Diesel</option>
                        <option>Gaz naturel (GNV)</option>
                        <option>√âlectricit√©</option>
                        <option>Hydrog√®ne</option>
                        <option>Biocarburant</option>
                      </select>
                    </div>
                  
                    <!-- Nombre d'engins -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label">Nombre d'engins</label>
                      <input type="number" class="form-control">
                    </div>
                  
                    <!-- Poids transport√© -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label">Poids des transports (Kg)</label>
                      <input type="number" class="form-control">
                    </div>
                  
                    <!-- Type de transport -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label"></label>
                      <select class="form-control">
                        <option value="">S√©lectionner le Type de transport</option>
                        <option>Avion</option>
                        <option>Bateau</option>
                        <option>Train</option>
                        <option>Camion</option>
                        <option>Voiture</option>
                      </select>
                    </div>
                  
                    <!-- Distance transport -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label">Distance des transports (Km)</label>
                      <input type="number" class="form-control">
                    </div>
                  
                    <!-- Consommation √©lectrique transport -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label">Consommation d'√©lectricit√© (kWh)</label>
                      <input type="number" class="form-control">
                    </div>
                  
                    <!-- Type de mat√©riel -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label"></label>
                      <select class="form-control">
                        <option value="">S√©lectionner le Types de mat√©riels utilis√©s</option>
                        <option>Mat√©riaux de construction</option>
                        <option>√âquipements √©lectroniques</option>
                        <option>Machines lourdes</option>
                        <option>Outils manuels</option>
                        <option>Mobilier</option>
                      </select>
                    </div>
                  
                    <!-- Fr√©quence d'utilisation -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label"></label>
                      <select class="form-control">
                        <option value="">S√©lectionner la Fr√©quence d'utilisation</option>
                        <option>Quotidienne</option>
                        <option>Hebdomadaire</option>
                        <option>Mensuelle</option>
                        <option>Occasionnelle</option>
                      </select>
                    </div>
                  
                    <!-- Type de d√©chets -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label"></label>
                      <select class="form-control">
                        <option value="">S√©lectionner le Type de d√©chets</option>
                        <option>Plastiques</option>
                        <option>M√©taux</option>
                        <option>Papiers / Cartons</option>
                        <option>Verre</option>
                        <option>D√©chets organiques</option>
                        <option>D√©chets √©lectroniques</option>
                        <option>D√©chets dangereux</option>
                      </select>
                    </div>
                  
                    <!-- Quantit√© de d√©chets -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label">Quantit√© de d√©chets (Kg)</label>
                      <input type="number" class="form-control">
                    </div>
                  
                    <!-- M√©thode de traitement -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label"></label>
                      <select class="form-control">
                        <option value="">S√©lectionner la M√©thode de traitement des d√©chets</option>
                        <option>Recyclage</option>
                        <option>Incin√©ration</option>
                        <option>Compostage</option>
                        <option>Enfouissement</option>
                        <option>R√©utilisation</option>
                      </select>
                    </div>
                  
                    <!-- Type de produits utilis√©s -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label"></label>
                      <select class="form-control">
                        <option value="">S√©lectionner Type de produits utilis√©s</option>
                        <option>Produits chimiques</option>
                        <option>Produits alimentaires</option>
                        <option>Produits pharmaceutiques</option>
                        <option>Produits m√©nagers</option>
                        <option>Produits industriels</option>
                      </select>
                    </div>
                  
                    <!-- Usage des produits -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label"></label>
                      <select class="form-control">
                        <option value="">S√©lectionner l'Usages des produits</option>
                        <option>Consommation humaine</option>
                        <option>Usage industriel</option>
                        <option>Usage domestique</option>
                        <option>Usage agricole</option>
                      </select>
                    </div>
                  
                    <!-- Dur√©e de vie -->
                    <div class="input-group input-group-outline mb-3">
                      <label class="form-label">Dur√©e de vie des produits (ann√©es)</label>
                      <input type="number" class="form-control">
                    </div>
                  
                    <!-- Conditions -->
                    <div class="form-check form-check-info text-start ps-0">
                      <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked>
                      <label class="form-check-label" for="flexCheckDefault">
                        J'accepte <a href="javascript:;" class="text-dark font-weight-bolder">les termes et les conditions</a>
                      </label>
                    </div>
                  
                    <!-- Bouton -->
                    <div class="text-center">
                      <button type="button" class="btn btn-lg bg-gradient-dark btn-lg w-100 mt-4 mb-0">Calculer</button>
                    </div>
                  </form>
                  <!-- Modal R√©sultat -->
                  <div class="modal fade" id="resultModal" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                      <div class="modal-content rounded-4 shadow">
                        <div class="modal-header bg-dark text-white">
                          <h5 class="modal-title">üåç R√©sultat Bilan Carbone</h5>
                          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                          <div id="resultContent" class="p-3"></div>
                        </div>
                        <div class="modal-footer">
                          <button class="btn btn-success" data-bs-dismiss="modal">Fermer</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <!--   Core JS Files   -->
  <script src="assets/js/core/popper.min.js"></script>
  <script src="assets/js/core/bootstrap.min.js"></script>
  <script src="assets/js/plugins/perfect-scrollbar.min.js"></script>
  <script src="assets/js/plugins/smooth-scrollbar.min.js"></script>
  <script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
  </script>
  <!-- Github buttons -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="assets/js/material-dashboard.min.js?v=3.2.0"></script>
     <script>
        document.querySelector("btn").addEventListener("click", function() {
          // 1. R√©cup√©ration des valeurs
          let consommationElec = parseFloat(document.querySelectorAll("input[type='number']")[0].value) || 0;
          let distanceParcourue = parseFloat(document.querySelectorAll("input[type='number']")[1].value) || 0;
          let typeEngin = document.querySelectorAll("select")[0].value;
          let typeCarburant = document.querySelectorAll("select")[1].value;
          let nbEngins = parseFloat(document.querySelectorAll("input[type='number']")[2].value) || 0;
          let poidsTransport = parseFloat(document.querySelectorAll("input[type='number']")[3].value) || 0;
          let typeTransport = document.querySelectorAll("select")[2].value;
          let distanceTransport = parseFloat(document.querySelectorAll("input[type='number']")[4].value) || 0;
          let consoElecTransport = parseFloat(document.querySelectorAll("input[type='number']")[5].value) || 0;
          let typeMateriel = document.querySelectorAll("select")[3].value;
          let frequenceUtilisation = document.querySelectorAll("select")[4].value;
          let typeDechet = document.querySelectorAll("select")[5].value;
          let quantiteDechet = parseFloat(document.querySelectorAll("input[type='number']")[6].value) || 0;
          let methodeDechet = document.querySelectorAll("select")[6].value;
          let typeProduit = document.querySelectorAll("select")[7].value;
          let usageProduit = document.querySelectorAll("select")[8].value;
          let dureeVieProduit = parseFloat(document.querySelectorAll("input[type='number']")[7].value) || 0;
        
          // 2. Facteurs d‚Äô√©mission approximatifs (kgCO2e / unit√©)
          const facteurs = {
            electricite: 0.233, // kgCO2e/kWh
            essence: 2.31,      // kgCO2e/litre √©quivalent
            diesel: 2.68,
            gnv: 2.75,
            electricCar: 0.05,  // faible car indirect
            hydrogene: 0.1,
            biocarburant: 1.2,
            transport: 0.1,     // kgCO2e / tonne.km
            dechet: {
              plastique: 2.5,
              metal: 1.8,
              papier: 1.0,
              verre: 0.85,
              organique: 0.2,
              electronique: 3.5,
              dangereux: 5.0
            }
          };
        
          // 3. Calcul des √©missions
          let emissions = 0;
          let details = {};
        
          // Electricit√©
          let eElec = consommationElec * facteurs.electricite;
          details["√âlectricit√©"] = eElec;
          emissions += eElec;
        
          // Carburant
          let facteurCarburant = 0;
          if (typeCarburant === "Essence") facteurCarburant = facteurs.essence;
          if (typeCarburant === "Diesel") facteurCarburant = facteurs.diesel;
          if (typeCarburant === "Gaz naturel (GNV)") facteurCarburant = facteurs.gnv;
          if (typeCarburant === "√âlectricit√©") facteurCarburant = facteurs.electricCar;
          if (typeCarburant === "Hydrog√®ne") facteurCarburant = facteurs.hydrogene;
          if (typeCarburant === "Biocarburant") facteurCarburant = facteurs.biocarburant;
        
          let eCarburant = distanceParcourue * nbEngins * facteurCarburant * 0.2; // simplification
          details["Carburant"] = eCarburant;
          emissions += eCarburant;
        
          // Transport marchandises
          let tonnes = poidsTransport / 1000;
          let eTransport = tonnes * distanceTransport * facteurs.transport;
          details["Transport marchandises"] = eTransport;
          emissions += eTransport;
        
          // D√©chets
          let facteurDechet = facteurs.dechet[typeDechet.toLowerCase()] || 1.0;
          let eDechet = quantiteDechet * facteurDechet;
          details["D√©chets"] = eDechet;
          emissions += eDechet;
        
          // Produits (dur√©e de vie ‚Üí amorti sur 1 an)
          let eProduit = (dureeVieProduit > 0) ? (20 / dureeVieProduit) : 0; 
          details["Produits"] = eProduit;
          emissions += eProduit;

          // R√©partition par gaz (valeurs simplifi√©es en %)
          let ges = {
            "CO‚ÇÇ": emissions * 0.9,   // 90%
            "CH‚ÇÑ": emissions * 0.07,  // 7%
            "N‚ÇÇO": emissions * 0.03   // 3%
          };

          // R√©partition par Scope (simplifi√©e)
          let scopes = {
            "Scope 1 (√©missions directes)": details["Carburant"] + (details["Produits"] || 0),
            "Scope 2 (√©nergie achet√©e)": details["√âlectricit√©"] || 0,
            "Scope 3 (autres indirectes)": (details["Transport marchandises"] || 0) + (details["D√©chets"] || 0)
          };
        
          // 4. Compensation carbone par arbres
          let absorptionParMois = 5; // kgCO2 / arbre / mois
          let absorptionParAn = 60;  // kgCO2 / arbre / an
          let nbArbres = Math.ceil(emissions / absorptionParMois);
          let co2AbsorbeAn = nbArbres * absorptionParAn;
        
          // 5. Pr√©parer le r√©sultat
          let resultat = `üåç Bilan Carbone estim√©\n\n`;
          resultat += `‚û°Ô∏è Total : ${emissions.toFixed(2)} kgCO‚ÇÇe\n\n`;
          resultat += `üìä Par facteur :\n`;
          for (let [k, v] of Object.entries(details)) {
            resultat += `- ${k} : ${v.toFixed(2)} kgCO‚ÇÇe\n`;
          }
          // Ajouter dans le r√©sultat
          resultat += `\nüìë Par Scope :\n`;
          for (let [s, valeur] of Object.entries(scopes)) {
            resultat += `- ${s} : ${valeur.toFixed(2)} kgCO‚ÇÇe\n`;
          }
          // Ajouter dans le r√©sultat
          resultat += `\nüåê Par gaz √† effet de serre :\n`;
          for (let [gaz, valeur] of Object.entries(ges)) {
            resultat += `- ${gaz} : ${valeur.toFixed(2)} kgCO‚ÇÇe\n`;
          }
          resultat += `\nüå± Compensation carbone :\n`;
          resultat += `- Arbres √† planter : ${nbArbres}\n`;
          resultat += `- CO‚ÇÇ absorb√© en 1 an : ${co2AbsorbeAn.toFixed(2)} kgCO‚ÇÇe\n`;
          resultat += `\n‚úÖ Impact : R√©duction potentielle de ${(co2AbsorbeAn / emissions * 100).toFixed(1)}% sur un an`;
        
          // 6. Afficher le popup
          alert(resultat);
        });
    </script>

</body>

</html>
